<app-topbar></app-topbar>

<div class="main-container">
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="registro-form">

    <div class="header">
      <h1>ChambitasWeb</h1>
      <p>Inicia sesión para acceder a tu cuenta y conectar con profesionales o clientes.</p>
    </div>
    <div class="form-group">
      <label for="correo">Correo:</label>
      <input type="email" id="correo" formControlName="correo" placeholder="correo@gmail.com" />

      <div class="error-message" *ngIf="form.get('correo')?.touched && form.get('correo')?.invalid">
        <div *ngIf="form.get('correo')?.errors?.['required']">
          El correo es obligatorio.
        </div>
        <div *ngIf="form.get('correo')?.touched && form.get('correo')?.errors?.['invalidCorreo']"> 
          El correo debe tener dominio gmail.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="contraseña">Contraseña:</label>
      <div class="password-container">
        <input 
          [type]="passwordVisible ? 'text' : 'password'"
          id="contraseña" 
          formControlName="contraseña" 
          placeholder="Tu contraseña" />
        

        <i class="fa" [ngClass]="passwordVisible ? 'fa-eye-slash' : 'fa-eye'" (click)="togglePasswordVisibility()" style="cursor: pointer;"></i>
      </div>
      <div class="error-message" *ngIf="form.get('contraseña')?.touched && form.get('contraseña')?.invalid">
        <span *ngIf="form.get('contraseña')?.errors?.['required']">La contraseña es obligatoria.</span>
      </div>
    </div>
    
    
    
    <div class="form-group">
      <button type="submit" class="custom-btn" [disabled]="form.invalid">Iniciar Sesión</button>
    </div>

    <div class="login-redirect">
      <p>¿Aún no estás registrado?
        <a routerLink="/signup">Crea una cuenta</a>
      </p>
    </div>

  </form>
</div>
